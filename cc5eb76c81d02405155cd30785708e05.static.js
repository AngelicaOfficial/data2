var _mpevt=_mpevt||[];!function(t,e,n){if("undefined"!=typeof EtappTracker&&EtappTracker);else{_mpevt=t._mpevt||[];var o,i,a,r,c={},s=this;encodeURIComponent||escape;function u(t,e){"mp_"==t.substring(0,3)||(t=null!=e?"mp_"+e+"_"+t:"mp_"+t);var n=document.cookie,o=0;if(n)for(n=n.split("; ");o<n.length;o++)if(n[o]=n[o].split("=",2),unescape(n[o][0])==t)return unescape(n[o][1]);return null}function l(t,e,n){var o,i,a,r,c=["expires","path","domain","secure"],s=c.length;if(n="object"==typeof n&&null!=n?n:{},o=escape(t)+"="+escape(e),void 0===n.domain&&(n.domain="."+location.hostname.match(/([a-zA-Z0-9_-]+\.[a-zA-Z0-9_-]+)[:0-9]*$/)[1]),void 0===n.path&&(n.path="/"),n)for(;--s;)void 0!==(i=n[c[s]])&&(o+="; "+("secure"==c[s]?c[s]:"expires"==c[s]?isNaN(i)?i:(a=i,r=void 0,(r=new Date).setTime(r.getTime()+864e5*a),r.toGMTString()):c[s]+"="+i));return document.cookie=o,u(t)==e}function p(t,e){var n,o,i,a,r,c,s,u;for(n=3&t.length,o=t.length-n,i=e,r=3432918353,c=461845907,u=0;u<o;)s=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=s=(65535&(s=(s=(65535&s)*r+(((s>>>16)*r&65535)<<16)&4294967295)<<15|s>>>17))*c+(((s>>>16)*c&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(s=0,n){case 3:s^=(255&t.charCodeAt(u+2))<<16;case 2:s^=(255&t.charCodeAt(u+1))<<8;case 1:i^=s=(65535&(s=(s=(65535&(s^=255&t.charCodeAt(u)))*r+(((s>>>16)*r&65535)<<16)&4294967295)<<15|s>>>17))*c+(((s>>>16)*c&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}function h(t){var e=_mpevt.shift();if("function"==typeof e)!_mpevt.length||"boolean"==typeof t&&t||a(h,0),e();else if(e){var n=e.shift(),o=n.indexOf("."),i=o>-1?n.substr(0,o):"",r=c[i];r=r?r.methods:{};try{(r.methods||mpAnalytics(i))[n.substr(o+1)].apply(s,e)}catch(t){}!_mpevt.length||"boolean"==typeof t&&t||a(h,0)}}function f(t,e,n,o,i,a,r){"use strict";this.action=t,this.type=e,this.cookiename=n,this.maxcookiecount=a,this.id=o,this.context=r,this.age=i}f.prototype={constructor:f,rdata:function(){"use strict";var t="";return this.action&&(t+="&action="+this.action),this.type&&(t+="&type="+this.type),this.id&&(t+="&id="+this.id),this.context&&""!=this.context&&(t+="&context="+this.context),this.cookiename&&(t+="&cookiename="+this.cookiename),this.maxcookiecount&&(t+="&maxcookiecount="+this.maxcookiecount),this.data&&(t+="&data="+this.data),this.age&&(t+="&age="+this.age),"&"===t.charAt(0)?t.slice(1):t}},t.addEventListener?(i=function(){for(;_mpevt.length;)h();removeEventListener("beforeunload",i,!1),removeEventListener("message",h,!1)},addEventListener("beforeunload",i,!1),addEventListener("message",h,!1)):t.attachEvent?(i=function(){for(;_mpevt.length;)h();detachEvent("onbeforeunload",i),detachEvent("onmessage",h,!1)},attachEvent("onbeforeunload",i),attachEvent("onmessage",h,!1)):o=!0,o||!t.postMessage||t.VBArray&&!e.querySelector&&!e.dMode?o=!0:a=function(){postMessage("_mpevt","*")},_mpevt.push.toString&&-1==_mpevt.push.toString().indexOf("_mpevt")&&(_mpevt._mpevtpush=_mpevt.push,_mpevt.push=function(){_mpevt._mpevtpush.apply(_mpevt,arguments),a(h,0)}),a&&!o&&_mpevt.push.toString&&-1!=_mpevt.push.toString().indexOf("_mpevt")||(o=!0,a=setTimeout,r=function(){_mpevt.length&&h(!0),setTimeout(r,_mpevt.length?10:150)}),mpAnalytics=function(t){var e=0;if(t||(t="",e=1),!c[t]){var n=0,o=0,i=e,a="https:"==document.location.protocol?"https://ctrack.trafficjunky.net/ctrack":"http://ctrack.trafficjunky.net/ctrack",r={myhttpReqCreate:function(t){return t.XDomainRequest?new XDomainRequest:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}return null}()},_http_send_request:function(t,e,n,o,i,a){"use strict";if("GET"===t){if(o&&"function"!=typeof o)throw"callback shall be a function";var r=e;r+="?",r+=n,new Image(1,1).src=r,o&&o()}else{var c,s;if("undefined"!==a&&null!==a&&"boolean"==typeof a||(a=!0),s=myhttpReqCreate(window),"string"!=typeof t&&("POST"!==t||"GET"!==t))throw"method request shall be 'POST' or 'GET'";if(o&&"function"!=typeof o)throw"callback shall be a function";if(o&&(s.onreadystatechange=o),"GET"===t&&(e+="?",e+=n,n=null),s.open(t,e,a),null!=s.setRequestHeader&&i)for(c=0;c<i.length;c++)s.setRequestHeader(i[c].name,i[c].value);s.send(n)}},_getURL:function(){return a},_setURL:function(t){a=t},_getSiteID:function(){return n},_setSiteID:function(t){n=t},_setContext:function(t){_CONTEXT_ID=t},_getContext:function(){return _CONTEXT_ID},_setUID:function(t){o=t},_setSUID:function(t){t},_seTenantID:function(t){t},_setAppProductID:function(t,e){_APP_ID=t,_PRODUCT_ID=e},_eventSetIfLower:function(){var e=u(arguments[0],t),n=!0;if(null==e||"undefined"==e||null==e)n=!0,e=arguments[1];else try{var o=parseInt(e);parseInt(arguments[1])>o?(e=arguments[1],n=!0):n=!1}catch(t){n=!0}if(n){r._setCookie(arguments[0],e,{duration:63072e6},t);r._sendevent("list","add",arguments[0],e)}},_event:function(){var t=arguments[1],e=null==arguments[2]?null:arguments[2],n=null==arguments[3]?10:arguments[3];r._sendevent("list","add",arguments[0],t,e,n)},_sendevent:function(){try{var e,n;n=(e=i?new f(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],null,1).rdata():new f(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],t,1).rdata()).length<512?"GET":"POST",r._http_send_request(n,a,e,null,[{name:"Content-Type",value:"application/x-www-form-urlencoded"}],!1)}catch(t){}},_eventSample:function(e){if(e&&100*Math.random()<=e)return c[t].methods._event.apply(this,[].splice.call(arguments,1))},_setCookie:function(t,e,n,o,i){return t=null!=o?"mp_"+o+"_"+t:"mp_"+t,null!=n&&null!=n.duration&&null==n.expires&&(n.expires=new Date((new Date).getTime()+parseInt(n.duration))),i&&"object"!=typeof i&&(i=[i]),l(t,e,"object"==typeof n&&n?n:{})},_startGoal:function(e,n,o,i,a,r){o||(o=1);var s=u(e);if(s)n=s;else if(c[t].methods._setCookie(e,n,{duration:o},a),i)return c[t].methods._event(e,n,i,1,null,null,arguments.length>5?r:null)},_trackGoal:function(e,n,i,a,r,s){var p=u(e);if("object"==typeof a&&a){if(u(e+"_"+n+"_once"+(a.uid?"_"+o:"")))return;l(e+"_"+n+"_once"+(a.uid?"_"+o:""),1,{duration:isNaN(a.duration)?0:a.duration})}if("function"==typeof r&&r(e,p)||"function"!=typeof r&&p)return c[t].methods._event(e,p,n,"object"!=typeof arguments[2]||null!==arguments[2]?i:1,null,null,arguments.length>5?s:null)},_setGoalAction:function(e,n,o,i){o||(o=1);var a=u(e);a&&n!=a?c[t].methods._setCookie(e,n,{duration:o},i):n=a},_getOrTrackUser:function(){var e=p(""+document.domain),n=parseInt((new Date).getTime()/1e3),o=u("u"),i="",a=!0;if(o){var r=o.split(".");a=!1;try{if(!((r=o.split(".")).length<7)){e=r[0];var s=r[1],l=r[2],h=r[3],f=r[4],d=r[5],m=r[6];if(i=o,null==s||"undefined"==s||null==s||0==s)throw new Error("Undefined visitorID");n-d>1800?(i=e+"."+s+"."+l+"."+f+"."+n+"."+n+"."+(m+1),h=f,f=n,m++):i=e+"."+s+"."+l+"."+h+"."+f+"."+n+"."+m}}catch(t){}}a&&(i=e+"."+(s=p(""+Math.random()))+"."+n+"."+n+"."+n+"."+n+".1",f=n);c[t].methods._setCookie("u",i,{duration:63072e6});c[t].methods._setSUID(f)}};c[t]={methods:r},c[t].methods._getOrTrackUser()}return c[t].methods},EtappTracker=mpAnalytics,t.mpAnalytics=mpAnalytics,a(r||h,0)}}(window,document);